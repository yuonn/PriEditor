# PriEditor

プリチャン（プリパラ）の録画ファイルを縦に直したり，自動で顔をトリミングしたり，いい感じに編集を楽にしてくれるプログラムです．



## 実装済みの機能

* 横向きの動画を縦にする
* やってみた！のところを自動でキャプチャ
* 顔認識をしてトリミング



## 基本的な使い方

1. ```PriEditor.py```を実行する．
2. 録画ファイルが保存されたフォルダ，動画の出力先および動画が保存されているフォルダ，画像の出力先を選択する．
3. 行いたい処理にチェックを付ける．
4. 一番下の実行ボタンを押して実行する．




### 顔画像のトリミングで生成される無駄な画像の選別

デフォルトの状態だと，ロード中の画像からトリミングしたりするので無駄な画像が保存されてしまいます．そこで，パターンマッチングによって類似画像を保存しないようにすることができます（機能しない場合もあります）．この機能は，**既に生成されたいらない画像を```./templates```に保存する**だけで使用することができます．ただし，追加した分だけ処理は重くなるので生成される画像のバランスを見ながら使用すると良いでしょう．




## 実行環境

* Python3
* opencv-python
* ffmpy
* FFMPEG



opencv-pythonは下記URLを参照してください．（pipで入ります）

https://pypi.org/project/opencv-python/



FFMPEGは下記URLからダウンロードして，PATH通して使えるようにしてください．

https://www.ffmpeg.org/download.html



ffmpyは下記URLを参照してください．（pipで入ります）

http://ffmpy.readthedocs.io/en/latest/



## 顔認識について

本プログラムの顔認識は[nagadomi様のlbpcascade_animeface.xml](https://github.com/nagadomi/lbpcascade_animeface)を使用しています．関係者各位に感謝いたします．